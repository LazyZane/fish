# 🐟 职场摸鱼解压平台 - 产品需求文档（PRD v1.0）

## 一、项目概述

**项目名称**：职场摸鱼解压平台（代号：FishTime）  
**项目定位**：职场心理健康与情绪管理工具  
**目标用户**：上班族 / 职场人群  
**开发阶段**：MVP版本（虚拟数据演示）

**核心价值主张**：
> "摸鱼不是偷懒，而是职场自我修复的一部分。"

通过数据可视化、AI情绪分析与社区化交互，帮助职场人缓解焦虑、释放情绪、建立健康工作心态。

---

## 二、MVP版本范围界定

### ✅ 本版本实现
- 🕒 摸鱼时间统计（本地计时器 + 数据可视化）
- 😊 情绪反馈系统（接入Gemini NLP分析）
- 💬 吐槽吧/避雷指南（虚拟数据展示 + 红黑榜）
- 🍉 摸鱼吃瓜Club（虚拟新闻聚合）
- 📊 丰富的虚拟数据与精美界面

### 🔜 后续版本规划
- 用户登录/注册系统
- 真实数据持久化（云端数据库）
- 第三方API接入（地图、新闻聚合）
- 用户间互动（点赞、评论）

---

## 三、技术约束与规格

### 技术栈
- **前端框架**：Next.js 14 (App Router) + TypeScript
- **UI库**：Tailwind CSS + shadcn/ui
- **数据存储**：LocalStorage（MVP阶段）
- **AI服务**：Google Gemini API（情绪分析）
- **部署平台**：Vercel
- **图表库**：Recharts / Chart.js

### MVP特殊说明
- 无需真实登录，使用Mock用户数据
- 所有展示数据均为虚拟数据，但需详实、真实感强
- 情绪分析为唯一真实API调用功能

---

## 四、核心功能详细设计

### 1️⃣ 摸鱼时间统计模块

#### 功能点
**A. 摸鱼计时器**
- 点击"开始摸鱼"按钮启动计时
- 实时显示当前摸鱼时长（HH:MM:SS）
- 点击"结束摸鱼"保存记录到LocalStorage
- 支持暂停/继续功能

**B. 摸鱼资金计算**
- 用户设置虚拟时薪（可调节，默认50元/小时）
- 实时计算：`摸鱼资金 = 时薪 × (摸鱼时长/60)`
- 显示今日/本周/本月累计摸鱼收益

**C. 摸鱼投入比**
- 公式：`摸鱼投入比 = (摸鱼时长 / 工作时长) × 100%`
- 默认工作时长：8小时/天
- 仪表盘可视化展示（0-100%）

**D. 数据可视化**
- 近7天摸鱼时长趋势图（折线图）
- 本周摸鱼资金柱状图
- 摸鱼时间段分布（饼图：上午/下午/晚上）

#### 虚拟数据要求
```json
{
  "todayFishTime": 96, // 分钟
  "todayEarnings": 80.0,
  "weeklyTrend": [45, 62, 88, 73, 96, 54, 67],
  "weeklyEarnings": 485.5,
  "fishRatio": 23,
  "timeDistribution": {
    "morning": 35,
    "afternoon": 45,
    "evening": 20
  }
}
```

#### 界面元素
```
┌─────────────────────────────────────┐
│  🐠 今日摸鱼记录                        │
│  ⏱️  1小时 36分钟                      │
│  💰 今日收益：¥80.00                   │
│  📊 摸鱼投入比：23%                     │
│                                     │
│  [开始摸鱼]  [查看历史]                 │
└─────────────────────────────────────┘
```

---

### 2️⃣ 情绪反馈系统

#### 功能点
**A. 情绪输入区**
- 文本输入框（支持多行，最多500字）
- 快捷情绪标签选择（可选：😊😔😡😰😌）
- "分析我的情绪"按钮

**B. Gemini NLP分析**
- 调用Gemini API分析用户文本
- 识别情绪类型（快乐/悲伤/愤怒/焦虑/平静/沮丧）
- 情绪强度评分（0-10）
- 关键词提取

**C. 情绪调节建议**
根据分析结果返回个性化建议：
- **焦虑**：「检测到焦虑情绪，试试5-4-3-2-1正念练习」
- **愤怒**：「深呼吸三次，暂时离开让你生气的环境」
- **沮丧**：「允许自己难过，适当运动可以改善心情」
- **快乐**：「太好了！保持这份好心情，分享给身边的人」

**D. 情绪趋势**
- 近7天情绪曲线图（折线图，多系列）
- 主导情绪统计（饼图）
- 情绪日记列表

#### Gemini Prompt设计
```
你是一位专业的职场心理咨询师。请分析以下文本的情绪状态：

文本：{用户输入}

请以JSON格式返回：
{
  "emotion": "情绪类型(happy/sad/angry/anxious/calm/depressed)",
  "intensity": 情绪强度(0-10),
  "keywords": ["关键词1", "关键词2"],
  "advice": "简短的情绪调节建议(50字内)"
}
```

#### 虚拟历史数据
```json
{
  "emotionHistory": [
    {
      "date": "2025-10-26",
      "emotion": "anxious",
      "intensity": 7,
      "text": "项目延期了，领导一直在催...",
      "advice": "适当休息，制定分步计划"
    }
    // ... 更多历史记录
  ],
  "weeklyEmotions": {
    "happy": 15,
    "anxious": 35,
    "calm": 30,
    "angry": 10,
    "sad": 10
  }
}
```

---

### 3️⃣ 吐槽吧/避雷指南

#### 功能点
**A. 吐槽列表流**
- 卡片式瀑布流布局
- 每条吐槽包含：
  - 匿名用户标识（如"匿名摸鱼人#1234"）
  - 公司标签（已脱敏："某互联网大厂"/"某金融公司"）
  - 城市标签
  - 吐槽内容（文字 + 表情）
  - 点赞数 / 共鸣数
  - 发布时间

**B. 红黑榜单**
- **🏆 职场红榜**：用户投票"最值得加入"的公司类型
- **⚠️ 职场黑榜**：投票"最该避雷"的公司特征
- 榜单条目包含：
  - 公司类型/特征描述
  - 投票数
  - 代表性吐槽（1-2条）

**C. 筛选与排序**
- 按城市筛选
- 按行业筛选（互联网/金融/制造/服务等）
- 按热度/时间排序

**D. 虚拟公司地图**
- 地图组件展示城市分布
- 标注热门吐槽区域
- 点击查看该区域吐槽汇总

#### 虚拟数据结构
```json
{
  "complaints": [
    {
      "id": "c001",
      "author": "匿名摸鱼人#1234",
      "company": "某互联网大厂",
      "city": "北京",
      "industry": "互联网",
      "content": "画饼一流，兑现无能。说好的期权呢？🙄",
      "likes": 1234,
      "createdAt": "2025-10-25T14:30:00Z"
    }
    // ... 至少30条虚拟数据
  ],
  "redList": [
    {
      "rank": 1,
      "type": "弹性工作制公司",
      "votes": 5678,
      "description": "真正的不打卡，工作成果导向"
    }
    // ... 10条
  ],
  "blackList": [
    {
      "rank": 1,
      "feature": "无限加班文化",
      "votes": 8890,
      "description": "996是福报？不存在的"
    }
    // ... 10条
  ]
}
```

---

### 4️⃣ 摸鱼吃瓜Club

#### 功能点
**A. 新闻聚合卡片**
- 分类标签：明星八卦 / 影视综艺 / 职场趣闻 / 搞笑段子
- 每条新闻包含：
  - 标题（醒目、吸引人）
  - 封面图（虚拟图片占位）
  - 简介（50字内）
  - 热度值
  - 阅读时长标识（⏱️ 3分钟）

**B. 今日一瓜**
- 首页banner位置
- 每日精选一条爆款内容
- 自动轮播切换

**C. 三分钟摸鱼推荐**
- 专门筛选阅读时长≤3分钟的轻内容
- 随机推荐算法

**D. 段子/表情包区**
- 图文混排展示
- 懒加载优化

#### 虚拟数据要求
```json
{
  "news": [
    {
      "id": "n001",
      "category": "明星八卦",
      "title": "某顶流明星恋情曝光？工作室紧急回应",
      "summary": "网友偶遇两人深夜共同出入高档餐厅...",
      "image": "/placeholder-news-1.jpg",
      "heat": 9876,
      "readTime": 2
    }
    // ... 至少50条分类数据
  ],
  "todayHighlight": {
    "title": "打工人的一天：从迟到开始的连锁反应",
    "content": "早上闹钟没响→地铁延误→打卡迟到→被领导点名...",
    "heat": 15432
  }
}
```

---

## 五、页面结构与导航

### 路由设计
```
/                    → 首页仪表盘（Dashboard）
/fish-timer          → 摸鱼计时器
/emotion             → 情绪反馈
/complaints          → 吐槽吧
/complaints/map      → 公司地图
/news                → 吃瓜Club
/profile             → 个人中心（虚拟）
```

### 全局导航
- 顶部导航栏：Logo + 主导航菜单
- 底部导航栏（移动端）：首页 / 计时器 / 情绪 / 吐槽 / 吃瓜
- 侧边栏（桌面端）：固定式导航

### 首页布局
```
┌─────────────────────────────────────────┐
│  🐟 FishTime - 职场摸鱼解压平台            │
├─────────────────────────────────────────┤
│  📊 今日摸鱼概览                           │
│  ├─ 摸鱼时长：1h 36m                      │
│  ├─ 摸鱼收益：¥80                         │
│  └─ 情绪状态：😊 平静                      │
├─────────────────────────────────────────┤
│  🔥 今日一瓜                               │
│  [轮播Banner]                            │
├─────────────────────────────────────────┤
│  💬 最新吐槽  |  📈 本周数据  |  🎬 热门八卦  │
└─────────────────────────────────────────┘
```

---

## 六、数据模型设计

### LocalStorage存储结构
```typescript
// 摸鱼记录
interface FishRecord {
  id: string;
  startTime: string;
  endTime: string;
  duration: number; // 分钟
  earnings: number;
  date: string;
}

// 情绪记录
interface EmotionRecord {
  id: string;
  text: string;
  emotion: string;
  intensity: number;
  keywords: string[];
  advice: string;
  timestamp: string;
}

// LocalStorage Keys
- 'fishRecords': FishRecord[]
- 'emotionRecords': EmotionRecord[]
- 'userSettings': { hourlyRate: number, workHours: number }
```

---

## 七、UI/UX设计原则

### 设计风格
- **色彩**：清新、减压（主色调：#3B82F6 蓝色系）
- **字体**：易读性优先（中文：思源黑体/苹方，英文：Inter）
- **图标**：Lucide React / Heroicons
- **动效**：流畅的过渡动画（Framer Motion）

### 交互细节
- 点击反馈：微动画 + 触感反馈
- 加载状态：骨架屏 + Loading动画
- 空状态：友好的空白页提示（如"还没开始摸鱼？快来试试！"）
- 错误处理：Toast提示 + 错误边界

### 响应式设计
- 移动端优先（Mobile First）
- 断点：sm(640px) / md(768px) / lg(1024px) / xl(1280px)
- 触摸友好：按钮最小44x44px

---

## 八、非功能性需求

### 性能要求
- 首屏加载时间 < 2秒
- 交互响应时间 < 100ms
- Lighthouse分数 > 90

### 兼容性
- 浏览器：Chrome 90+, Safari 14+, Edge 90+
- 移动设备：iOS 13+, Android 8+

### SEO优化
- Next.js SSR/SSG支持
- Meta标签完整配置
- 语义化HTML

### 安全性
- 环境变量管理（Gemini API Key）
- XSS防护
- HTTPS强制

---

## 九、验收标准

### MVP核心指标
✅ 摸鱼计时器功能完整可用  
✅ Gemini情绪分析API调用成功率 > 95%  
✅ 虚拟数据详实（至少100条各类数据）  
✅ 所有页面移动端适配完成  
✅ 主要交互流程无明显Bug  
✅ 成功部署到Vercel并可访问  

### 用户体验目标
- 界面美观、现代感强
- 操作流畅、响应及时
- 数据展示直观、易懂
- 情绪分析结果准确、有共鸣

---

## 十、项目里程碑

| 阶段 | 交付物 | 预计时间 |
|-----|-------|---------|
| Phase 1 | PRD + TDD文档 | Day 1 |
| Phase 2 | 项目初始化 + 基础架构 | Day 1-2 |
| Phase 3 | 摸鱼计时器模块 | Day 2-3 |
| Phase 4 | 情绪分析模块（含Gemini集成） | Day 3-4 |
| Phase 5 | 吐槽吧模块 | Day 4-5 |
| Phase 6 | 吃瓜Club模块 | Day 5-6 |
| Phase 7 | 首页Dashboard整合 | Day 6-7 |
| Phase 8 | 虚拟数据完善 + UI优化 | Day 7-8 |
| Phase 9 | 测试 + 部署Vercel | Day 8-9 |

---

## 十一、风险与假设

### 技术风险
- Gemini API可能有调用限制/延迟 → 备选方案：本地简单NLP规则
- LocalStorage容量限制（5-10MB）→ 实施数据清理策略

### 业务假设
- 用户对虚拟数据有足够的接受度
- 情绪分析功能足够吸引用户体验

---

## 附录：术语表

| 术语 | 定义 |
|-----|------|
| 摸鱼 | 职场中短暂脱离工作任务的休息行为 |
| 摸鱼资金 | 基于时薪计算的虚拟收益，用于量化休息时间价值 |
| 摸鱼投入比 | 休息时间占总工作时间的百分比 |
| 情绪调节 | 通过认知干预帮助用户改善负面情绪的过程 |

---

**文档版本**：v1.0  
**最后更新**：2025-10-26  
**负责人**：AI技术架构师

